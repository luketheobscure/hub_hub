- if current_user
  = form_tag(votes_upvote_path, class: "form-horizontal") do
    = hidden_field_tag :item_id, votable_item.id
    = hidden_field_tag :item_type, votable_item.class.to_s.downcase

    - if current_user.voted_up_on?(votable_item)
      = button_tag type: "submit", class: "btn btn-mini btn-success" do
        %i.icon-chevron-up

    - else
      = button_tag type: "submit", class: "btn btn-mini" do
        %i.icon-chevron-up

- else
  %p{ style: "padding-bottom: 6px;" }
    %button.btn.btn-mini.disabled
      %i.icon-chevron-up

%p.votable-item-count
  = votable_item.likes.size - votable_item.dislikes.size

- if current_user
  = form_tag(votes_downvote_path, class: "form-horizontal") do
    = hidden_field_tag :item_id, votable_item.id
    = hidden_field_tag :item_type, votable_item.class.to_s.downcase

    - if current_user.voted_down_on?(votable_item)
      = button_tag type: "submit", class: "btn btn-mini btn-danger" do
        %i.icon-chevron-down.pull-left

    - else
      = button_tag type: "submit", class: "btn btn-mini" do
        %i.icon-chevron-down.pull-left

- else
  %p{ style: "margin-top: 2px;" }
    %button.btn.btn-mini.disabled
      %i.icon-chevron-down.pull-left

%p
  %span.label.label-success
    %i.icon-plus.icon-white
    = votable_item.likes.size

%p
  %span.label.label-important
    %i.icon-minus.icon-white
    = votable_item.dislikes.size

%p
  %span.label.label-inverted
    %i.icon-comment.icon-white
    = votable_item.commentable_count

